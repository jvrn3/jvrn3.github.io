---
layout: post
title: "Numbers - Capítulo 4"
date: 2020-09-13
categories: Books
---

Este capítulo foi o que mais gostei até então. O autor apresenta algumas funções primitivas, como _zero?_, _add1_, _sub1_, que, respectivamente, verifica se um número é igual a zero, adiciona 1, e subtrai 1.

Após isso, ele segue definindo as principais funções para realizar operações com os números naturais.

Por exemplo, a função de soma de dois números é definida como:
```scheme
(define my-add
  (lambda (x y)
    (cond
      [(zero? y) x]
      [else (add1 (my-add x (sub1 y)))]
      )))

(check-equal? (my-add 5 5) 10)
```

Perceba que essa função não está respeitando o primeiro mandamento, pois a primeira pergunta é se y é igual a zero. Então fazemos uma revisão no primeiro mandamento, que fica assim:

***
> ## Primeiro Mandamento (revisado)
> #### Quando a função recebe como parâmetro uma lista de átomos _lat_, a primeira pergunta deve ser (null? lat)
> #### Quando a função recebe como parâmetro uma números _n_, pergunte (zero? n)

***

Você consegue definir a função de subtração? Tente!

Função de multiplicação:
```scheme
(define times
  (lambda (x y)
    (cond
      [(zero? y) 0]
      [else
        (my-add x (times x (sub1 y)))])))

(check-equal? (times 4 3) 12)
(check-equal? (times 3 4) 12)
(check-equal? (times 2 5) 10)
```
Vamos aqui mostrar um exemplo dessa função.
Suponha que você quer saber (times 5 3), ou seja, quanto é 3 vezes 5
```scheme
(times 5 3)
===
(cond
    [(zero? 3) 0]
    [else (+ 5 (times 5 (sub1 3)))])
(cond
    [#f 0]
    [else (+ 5 (times 5 (sub1 3)))])
===
    (+ 5 (times 5 (sub1 2)))
===
(+ 5
(cond
    [#f 0]
    [else (+ 5 (times 5 (sub1 2)))]))
===
(+ 5
    (+ 5 (times 5 (sub1 2))))
===
(+ 5
    (+ 5
        (cond
            [#f 0]
            [else (+ 5 (times 5 (sub1 1)))])
===
(+ 5
    (+ 5
            (+ 5 (times 5 (sub1 1)))))
===
(+ 5
    (+ 5
         (+ 5
            (cond
                [#t 0]
                [else (+ 5 (times 5 (sub1 0)))]))))
===
(+ 5
    (+ 5
         (+ 5 0)))
```
Após a soma, teremos o resultado que é 15.


***
> ## Quinto mandamento
> #### Na construção de valores com +, sempre use 0 como valor final, pois não altera a conta.
> #### Na contrução de valores com *, sempre use 1 como valor final, pois não altera a conta.
> #### Na contrução de valores com cons, sempre considere '() como valor final.

***

## Tup+
 O que é: `(tup+ tup1 tup2)`

 _tup1_: `(3 6 9 11 4)` _tup2_ : `(8 5 2 0 7)` ?

Resposta:
`(11 11 11 11 11)`

---
Consegue perceber o que _tup+_ faz?
Aqui vai a definição:

```scheme
(define tup+
  (lambda (t1 t2)
    (cond
      [(null? t1) '()]
      [else
        (cons (my-add (car t1) (car t2))
              (tup+ (cdr t1) (cdr t2)))])))

```
O livro aponta que temos aqui uma novidade, que é o fato da função recorrer sobre duas listas ao mesmo tempo, _t1_ e _t2_. Interessante né?

Outra função legal definida é a comparação de maior e menor, assim como a de igualdade
```scheme
(define .>
  (lambda (n m)
    (cond
      [(zero? n) #f]
      [(zero? m) #t]
      [else (.> (sub1 n) (sub1 m))])))

(check-equal? (.> 1 2) #f)
(check-equal? (.> 10 10) #f)
(check-equal? (.> 20 10) #t)

(define .=
  (lambda (x y)
    (cond
      [(zero? x) (zero? y)]
      [(zero? y) #f]
      [else (.= (sub1 x) (sub1 y))])))

(check-equal? (.= 5 5) #t)
(check-equal? (.= 5 3) #f)
(check-equal? (.= 2 2) #t)
```

Tem essa muito interessante também, que vou deixar a cargo do leitor descobrir o que a função faz.
```scheme
(define d
  (lambda (x y)
    (cond
      [(< x y) 0]
      [else (add1 (d (- x y) y))])))

(check-equal? (t 15 3) 5)
(check-equal? (t 15 5) 3)
(check-equal? (t 20 2) 10)

```
Por fim, são apresentadas as funções _pick_ e _occur_. A _pick_ recebe dois argumentos, _n_ e _lat_, sendo _n_ um número e _lat_ uma lista de átomos, e retorna o átomo da n-ésima posição da lista. A função occur calcula quantas vezes o elemento _a_ ocorreu em _lat_.
```scheme

(define pick
  (lambda (n lat)
    (cond
      [(null? lat) '()]
      [(zero? n) (car lat)]
      [else (pick (sub1 n) (cdr lat))])))

(define foods '(lasanga spaghetti ravioli macaroni meatball))
(check-equal? (pick 3 foods) 'macaroni)

(define occur
  (lambda (a lat)
    (cond
      [(null? lat) 0]
      [(eq? a (car lat)) (add1 (occur a (cdr lat)))]
      [else (occur a (cdr lat))])))

(check-equal? (occur 'hello '(hello how are you, hello ?)) 2)
```
Bom, é isso, pessoal. Lembrando aqui é o objetivo desses posts é apenas mostrar os principais pontos do livro, não detalhar tudo. Portanto, se quiser se aprofundar mais nos conceitos, leia o livro, é muito divertido!
